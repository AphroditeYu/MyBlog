(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c9872f84"],{3210:function(e,t,a){e.exports=a.p+"img/touxiang.85ac6895.png"},"3bea":function(e,t,a){"use strict";a("bedc")},"6cc7":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mainBody"},[t("div",{staticClass:"leftBar"},[t("LeftNavBar")],1),t("div",{staticClass:"dataView"},[t("router-view"),t("transition",{attrs:{name:"animate__animated animate__bounce","enter-active-class":"animate__bounceInRight","leave-active-class":"animate__fadeOutRight",appear:""}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.personalViewFlag,expression:"personalViewFlag"}],staticClass:"personalCenter"},[t("PersonalView")],1)])],1)])},i=[],l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"bodyOfManage"},[t("div",{staticClass:"leftNavbar",style:{width:e.withOfIconType}},[t("div",{staticClass:"profileArea"},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"个人中心",placement:"bottom"}},[e.user.adurl?t("img",{attrs:{src:e.user.adurl},on:{click:e.personalCenterApper}}):e._e(),e.user.adurl?e._e():t("img",{attrs:{src:a("3210")},on:{click:e.personalCenterApper}})])],1),t("div",{staticClass:"barArea"},[t("transition",{attrs:{name:"animate__animated animate__bounce","enter-active-class":"animate__fadeInUp","leave-active-class":"animate__zoomOut",appear:""}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.flagOfShow,expression:"flagOfShow"}],staticStyle:{width:"100%",position:"absolute"}},[t("router-link",{attrs:{to:{name:"Home"},"active-class":"active"}},[e._v("主页")]),t("router-link",{attrs:{to:{name:"Music"},"active-class":"active"}},[e._v("音乐")]),t("router-link",{attrs:{to:{name:"Article"},"active-class":"active"}},[e._v("文章")]),t("router-link",{attrs:{to:{name:"Socialize"},"active-class":"active"}},[e._v("社交")]),t("router-link",{attrs:{to:{name:"Board"},"active-class":"active"}},[e._v("留言板")])],1)]),t("transition",{attrs:{name:"animate__animated animate__bounce","enter-active-class":"animate__fadeInUp","leave-active-class":"animate__zoomOut",appear:""}},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.flagOfShow,expression:"!flagOfShow"}],staticStyle:{width:"100%"}},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"主页",placement:"right"}},[t("router-link",{staticStyle:{"font-size":"20px"},attrs:{to:{name:"Home"},"active-class":"active2"}},[t("li",{staticClass:"el-icon-s-home"})])],1),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"音乐",placement:"right"}},[t("router-link",{staticStyle:{"font-size":"20px"},attrs:{to:{name:"Music"},"active-class":"active2"}},[t("li",{staticClass:"el-icon-service"})])],1),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"文章",placement:"right"}},[t("router-link",{staticStyle:{"font-size":"20px"},attrs:{to:{name:"Article"},"active-class":"active2"}},[t("li",{staticClass:"el-icon-notebook-1"})])],1),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"社交",placement:"right"}},[t("router-link",{staticStyle:{"font-size":"20px"},attrs:{to:{name:"Socialize"},"active-class":"active2"}},[t("li",{staticClass:"el-icon-chat-dot-square"})])],1),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"留言板",placement:"right"}},[t("router-link",{staticStyle:{"font-size":"20px"},attrs:{to:"#","active-class":"active2"}},[t("li",{staticClass:"el-icon-document"})])],1)],1)])],1),t("div",{staticClass:"changeArea"},[t("li",{staticClass:"el-icon-guide",on:{click:e.changeToIcon}})])])])},o=[],r={name:"LeftNavBar",data(){return{withOfIconType:"100px",flagOfShow:!0,flagOfPersonalCenter:!0,user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{}}},methods:{changeToIcon(){this.flagOfShow=!this.flagOfShow},personalCenterApper(){this.$bus.$emit("personalCenterChange",this.flagOfPersonalCenter)}},mounted(){this.$bus.$on("updataAdurl",e=>{this.user.adurl=e,console.log("@@@@@"+e)})},beforeDestroy(){this.$bus.$off("updataAdurl")}},n=r,c=(a("d0e7"),a("2877")),d=Object(c["a"])(n,l,o,!1,null,"261338b0",null),u=d.exports,f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"viewOfPersonalData"},[t("div",{staticClass:"informationArea"},[t("div",{staticClass:"headAreaOfUser"},[t("div",{staticStyle:{height:"50px",width:"50px","border-radius":"10px",overflow:"hidden"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://localhost:9090/file/upload","show-file-list":!1,"on-success":e.handleAvatarSuccess}},[e.user.adurl?t("img",{staticClass:"avatar",staticStyle:{width:"100%"},attrs:{src:e.user.adurl}}):e._e(),e.user.adurl?e._e():t("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:a("3210")}})])],1),t("el-dropdown",[t("span",{staticClass:"el-dropdown-link",staticStyle:{"margin-left":"10px","font-size":"14px",color:"black","padding-left":"10px"}},[e._v(" "+e._s(e.user.nickname)),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{staticClass:"liList",attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",[t("span",{staticStyle:{width:"100%",height:"100%"},on:{click:e.closePersonalDataArea}},[e._v("个人信息")])]),t("el-dropdown-item",[t("span",{staticStyle:{width:"100%",height:"100%"},on:{click:e.closeWeatherArea}},[e._v("天气显示")])]),t("el-dropdown-item",[t("span",{staticStyle:{width:"100%",height:"100%"},on:{click:e.closenoticeArea}},[e._v("消息通知")])]),t("el-dropdown-item",[t("span",{staticStyle:{width:"100%",height:"100%"},on:{click:e.closedealtArea}},[e._v("退出登录")])])],1)],1)],1),t("div",{staticClass:"IconArea"},[t("i",{staticClass:"el-icon-message-solid",staticStyle:{position:"relative",display:"block",width:"30px",height:"30px","border-radius":"15px","background-color":"#FFFFFF","text-align":"center","line-height":"30px"}},[e.numberOfRequest>0&&e.numberOfRequest<99?t("span",{staticStyle:{position:"absolute",right:"-5px",top:"-5px","font-size":"3px",color:"white","background-color":"red",width:"16px",height:"16px","line-height":"16px","text-align":"center","border-radius":"8px"}},[e._v(e._s(e.numberOfRequest))]):e.numberOfRequest>=99?t("span",{staticStyle:{position:"absolute",right:"-5px",top:"-5px","font-size":"3px",color:"white","background-color":"red",width:"16px",height:"16px","line-height":"16px","text-align":"center","border-radius":"8px"}},[e._v("99...")]):e._e()])])]),t("div",{staticClass:"mainBodyOfPersonalCenter"},[t("transition-group",{attrs:{name:"list-complete",tag:"p",appear:""}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.flagOfWeather,expression:"flagOfWeather"}],key:1,staticClass:"weatherArea"},[t("i",{staticClass:"el-icon-close close",staticStyle:{position:"absolute",right:"15px",top:"10px","font-size":"18px","font-weight":"bold","z-index":"5"},on:{click:e.closeWeatherArea}}),t("div",{staticStyle:{"text-align":"center",padding:"0px 15px","font-size":"6px","font-weight":"bold",flex:"2",color:"#E7EAED",width:"100%",display:"flex","justify-content":"center","align-items":"center","margin-top":"15px"}},[e._v(" "+e._s(e.sentence)+" ")]),t("div",{staticStyle:{gap:"15px",color:"#E7EAED","font-weight":"bold",flex:"3",display:"flex","justify-content":"center","align-items":"center"}},[t("div",{staticStyle:{height:"100%"}},[e._v(" 天气 "),t("div",{staticStyle:{"text-align":"center"}},[e._v(" "+e._s(e.weatherObj.text)+" ")])]),t("div",{staticStyle:{height:"100%"}},[e._v(" 温度 "),t("div",{staticStyle:{"text-align":"center"}},[e._v(" "+e._s(e.weatherObj.temp)+" ")])]),t("div",{staticStyle:{height:"100%"}},[e._v(" 体感温度 "),t("div",{staticStyle:{"text-align":"center"}},[e._v(" "+e._s(e.weatherObj.feelsLike)+" ")])]),t("div",{staticStyle:{height:"100%"}},[e._v(" 风速 "),t("div",{staticStyle:{"text-align":"center"}},[e._v(" "+e._s(e.weatherObj.windSpeed)+" ")])])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.flagOfPersonalData,expression:"flagOfPersonalData"}],key:2,staticClass:"personalDataArea"},[t("i",{staticClass:"el-icon-close close",staticStyle:{position:"absolute",right:"15px",top:"10px","font-size":"18px","font-weight":"bolder","z-index":"5"},on:{click:e.closePersonalDataArea}}),t("div",{staticClass:"headOfPersonData"},[t("span",{staticStyle:{flex:"3"}},[e._v("我的名片")]),t("span",{staticStyle:{flex:"1"}},[t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.flagOfChangeUserData,expression:"flagOfChangeUserData"}],staticStyle:{"margin-right":"20px","background-color":"rgba(255,255,255,0.1)",color:"#589D95","font-weight":"bold",border:"1px solid #257B5E",height:"25px"},attrs:{type:"primary",round:""},on:{click:function(t){e.flagOfChangeUserData=!e.flagOfChangeUserData}}},[e._v("保存")])],1)]),t("div",{staticClass:"mainBodyOfPersonalData"},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.flagOfChangeUserData,expression:"!flagOfChangeUserData"}],staticClass:"defaultInformation",on:{click:function(t){e.flagOfChangeUserData=!e.flagOfChangeUserData}}},[t("div",[e._v(" 身份ID: "),t("span",[e._v(e._s(e.user.id))])]),t("div",[e._v(" 用 户  名: "),t("span",[e._v(e._s(e.user.name))])]),t("div",[e._v(" 姓     名: "),t("span",[e._v(e._s(e.user.nickname))])]),t("div",[e._v(" 身     份: "),t("span",[e._v(e._s(e.user.role))])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.flagOfChangeUserData,expression:"flagOfChangeUserData"}],staticClass:"changeDataOfUser"},[t("div",[e._v(" 姓    名: "),t("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"请输入内容"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),t("div",[e._v(" 性    别: "),t("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"请输入内容"},model:{value:e.user.sex,callback:function(t){e.$set(e.user,"sex",t)},expression:"user.sex"}})],1),t("div",[e._v(" 身    份: "),t("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"请输入内容"},model:{value:e.user.role,callback:function(t){e.$set(e.user,"role",t)},expression:"user.role"}})],1),t("div",[e._v(" 身份ID: "),t("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"请输入内容"},model:{value:e.user.identity,callback:function(t){e.$set(e.user,"identity",t)},expression:"user.identity"}})],1)])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.flagOfnotice,expression:"flagOfnotice"}],key:4,staticClass:"noticeArea"},[t("i",{staticClass:"el-icon-close close",staticStyle:{position:"absolute",right:"15px",top:"10px","font-size":"18px","font-weight":"bold","z-index":"5"},on:{click:e.closenoticeArea}}),t("span",{staticStyle:{flex:"1",display:"flex","align-items":"center",color:"#333","padding-left":"15px","font-weight":"bolder","font-size":"16px"}},[e._v("消息通知")]),t("div",{directives:[{name:"show",rawName:"v-show",value:0===this.numberOfRequest,expression:"this.numberOfRequest===0"}],staticStyle:{flex:"3",display:"flex","justify-content":"center","align-items":"center"}},[t("el-empty",{staticStyle:{width:"100px",height:"100px"},attrs:{description:"暂无消息","image-size":100}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:!(0===this.numberOfRequest),expression:"!(this.numberOfRequest===0)"}],staticStyle:{flex:"3",display:"flex","flex-direction":"column","align-items":"normal","margin-top":"0px"}},e._l(e.inforOfRequest,(function(a){return t("div",{key:a.id,staticStyle:{display:"flex",padding:"0 15px",height:"50px",width:"100%","line-height":"50px","align-items":"center","text-overflow":"ellipsis"}},[t("i",{staticClass:"el-icon-chat-round",staticStyle:{"margin-right":"8px","font-size":"15px","font-weight":"bolder"}}),t("span",{staticStyle:{color:"#2b542c","font-weight":"bolder"}},[e._v("用户 "+e._s(a.name)+" 申请注册！")]),t("el-link",{staticStyle:{"font-size":"12px"},attrs:{type:"primary",underline:!1},on:{click:function(t){return e.informationReview(a)}}},[e._v("详情")])],1)})),0)])])],1),t("el-dialog",{attrs:{title:"用户信息",visible:e.dialogVisible,width:"400px","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-form",{attrs:{model:e.form}},[t("el-form-item",{attrs:{label:"用户名","label-width":"100px"}},[t("el-input",{attrs:{disabled:!0,autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),t("el-form-item",{attrs:{label:"真实姓名","label-width":"100px"}},[t("el-input",{attrs:{autocomplete:"off",maxlength:"5","show-word-limit":""},model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}})],1),t("el-form-item",{attrs:{label:"用户身份","label-width":"100px"}},[t("el-select",{attrs:{placeholder:"请选择用户身份"},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}},[t("el-option",{attrs:{label:"组员",value:"组员"}}),t("el-option",{attrs:{label:"管理员",value:"管理员"}})],1)],1),t("el-form-item",{attrs:{"label-width":"100px"}},[t("span",{staticStyle:{color:"red"}},[e._v("请管理员认真核对用户信息")])])],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.errorOfRequest(e.form)}}},[e._v("不通过")]),t("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.successOfRequest(e.form)}}},[e._v("通过")])],1)],1)],1)},h=[],p=(a("77ed"),a("bc3a"),{name:"PersonalView",data(){return{numberOfRequest:0,flagOfPersonalCenter:!1,flagOfWeather:!0,flagOfPersonalData:!0,flagOfdealtArea:!0,flagOfnotice:!0,weatherObj:{},localTionObj:{},sentence:"",user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{},flagOfChangeUserData:!1,inforOfRequest:{},dialogVisible:!1,form:{}}},methods:{closeWeatherArea(){this.flagOfWeather=!this.flagOfWeather},closePersonalDataArea(){this.flagOfPersonalData=!this.flagOfPersonalData},closedealtArea(){this.$router.push({name:"Login"})},closenoticeArea(){this.flagOfnotice=!this.flagOfnotice},loadWeather(){this.request.get("https://devapi.qweather.com/v7/weather/now?location=101120206&key=").then(e=>{"200"===e.code&&(this.weatherObj=e.now)})},loadSentence(){this.request.get("https://v1.hitokoto.cn?c=j").then(e=>{this.sentence=e.hitokoto})},handleAvatarSuccess(e){var t=this.user;this.user.adurl=e,localStorage.removeItem("user"),localStorage.setItem("user",JSON.stringify(this.user)),this.request.post("http://localhost:9090/user/updataInforOfUser",t).then(e=>{if("200"===e.code)return this.$message.success("更换成功!"),void this.$bus.$emit("updataAdurl",this.user.adurl);this.$message.error("更换失败!")}),console.log(e)},loadNumberOfRequest(e){this.request.get("http://localhost:9090/user/"+e).then(e=>{this.numberOfRequest=e.data})},loadInforOfRequest(e){this.request.post("http://localhost:9090/user/"+e).then(e=>{this.inforOfRequest=e.data})},handleClose(e){this.$confirm("确认关闭？").then(t=>{e()}).catch(e=>{})},informationReview(e){this.form=JSON.parse(JSON.stringify(e)),this.dialogVisible=!this.dialogVisible},successOfRequest(e){return console.log(e),null===e.nickname?(this.$message.warning("未填写用户真实姓名！"),!1):null===e.role?(this.$message.warning("未赋予用户身份！"),!1):(e.auditstatus="通过",void this.request.post("http://localhost:9090/user/updataInforOfUser",e).then(e=>{if("200"===e.code)return this.$message.success("操作成功！"),this.loadNumberOfRequest(JSON.parse(localStorage.getItem("user")).id),this.loadInforOfRequest(JSON.parse(localStorage.getItem("user")).id),void(this.dialogVisible=!1)}))},errorOfRequest(e){e.auditstatus="不通过",this.request.post("http://localhost:9090/user/updataInforOfUser",e).then(e=>{if("200"===e.code)return this.$message.success("操作成功！"),this.loadNumberOfRequest(JSON.parse(localStorage.getItem("user")).id),this.loadInforOfRequest(JSON.parse(localStorage.getItem("user")).id),void(this.dialogVisible=!1)})}},created(){this.loadWeather(),this.loadSentence(),this.loadNumberOfRequest(JSON.parse(localStorage.getItem("user")).id),this.loadInforOfRequest(JSON.parse(localStorage.getItem("user")).id)}}),m=p,g=(a("3bea"),Object(c["a"])(m,f,h,!1,null,"35c35e23",null)),v=g.exports,w={name:"Manage",components:{LeftNavBar:u,PersonalView:v},data(){return{personalViewFlag:!0}},mounted(){this.$bus.$on("personalCenterChange",e=>{this.personalViewFlag=e})}},x=w,b=(a("fad7"),Object(c["a"])(x,s,i,!1,null,"7f977116",null));t["default"]=b.exports},"6e64":function(e,t,a){},bedc:function(e,t,a){},cb57:function(e,t,a){},d0e7:function(e,t,a){"use strict";a("cb57")},fad7:function(e,t,a){"use strict";a("6e64")}}]);
//# sourceMappingURL=chunk-c9872f84.13306074.js.map